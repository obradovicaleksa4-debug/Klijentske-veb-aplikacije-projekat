<div class="register-container">
  <h2>Registracija</h2>

  <div *ngIf="errorMessage" class="server-error">
    {{ errorMessage }}
  </div>

  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="fullName">Ime i Prezime:</label>
      <input
        id="fullName"
        type="text"
        formControlName="fullName"
        placeholder="Ime i prezime"
      />
      <div
        *ngIf="
          registrationForm.get('fullName')?.invalid &&
          (registrationForm.get('fullName')?.dirty ||
            registrationForm.get('fullName')?.touched)
        "
        class="error-message"
      >
        <span *ngIf="registrationForm.get('fullName')?.errors?.['required']"
          >Ime i Prezime su obavezni.</span
        >
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        id="email"
        type="email"
        formControlName="email"
        placeholder="Email"
      />
      <div
        *ngIf="
          registrationForm.get('email')?.invalid &&
          (registrationForm.get('email')?.dirty ||
            registrationForm.get('email')?.touched)
        "
        class="error-message"
      >
        <span *ngIf="registrationForm.get('email')?.errors?.['required']"
          >Email je obavezan.</span
        >
        <span *ngIf="registrationForm.get('email')?.errors?.['email']"
          >Molimo unesite validnu email adresu.</span
        >
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Broj telefona:</label>
      <input
        id="phone"
        type="tel"
        formControlName="phone"
        placeholder="Broj telefona"
      />
      <div
        *ngIf="
          registrationForm.get('phone')?.invalid &&
          (registrationForm.get('phone')?.dirty ||
            registrationForm.get('phone')?.touched)
        "
        class="error-message"
      >
        <span *ngIf="registrationForm.get('phone')?.errors?.['required']"
          >Broj telefona je obavezan.</span
        >
      </div>
    </div>

    <div class="form-group">
      <label for="password">Lozinka:</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        placeholder="Password"
      />
      <div
        *ngIf="
          registrationForm.get('password')?.invalid &&
          (registrationForm.get('password')?.dirty ||
            registrationForm.get('password')?.touched)
        "
        class="error-message"
      >
        <span *ngIf="registrationForm.get('password')?.errors?.['required']"
          >Lozinka je obavezna.</span
        >
        <span *ngIf="registrationForm.get('password')?.errors?.['minlength']"
          >Lozinka mora imati najmanje 6 karaktera.</span
        >
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Potvrdite lozinku:</label>
      <input
        id="confirmPassword"
        type="password"
        formControlName="confirmPassword"
        placeholder="Password"
      />
      <div
        *ngIf="
          registrationForm.get('confirmPassword')?.invalid &&
          (registrationForm.get('confirmPassword')?.dirty ||
            registrationForm.get('confirmPassword')?.touched)
        "
        class="error-message"
      >
        <span
          *ngIf="registrationForm.get('confirmPassword')?.errors?.['required']"
          >Potvrda lozinke je obavezna.</span
        >
        <span
          *ngIf="registrationForm.get('confirmPassword')?.errors?.['passwordMismatch']"
          >Lozinke se ne podudaraju.</span
        >
      </div>
    </div>

    <button type="submit" [disabled]="registrationForm.invalid">
      Registrujte se
    </button>
  </form>
  <p>VeÄ‡ imate nalog? <a href="/login">Prijavite se ovde.</a></p>
</div>
